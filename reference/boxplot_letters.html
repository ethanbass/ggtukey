<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Create ggplot boxplot with compact letter display — boxplot_letters • ggtukey</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Create ggplot boxplot with compact letter display — boxplot_letters"><meta name="description" content="Performs pairwise comparisons using TukeyHSD and produces
boxplots with compact letter display showing significance pairwise differences.
Letters are produced by multcompLetters. Plots are
produced by ggplot2. Raw data can also be overlaid in
various ways according to the value of raw."><meta property="og:description" content="Performs pairwise comparisons using TukeyHSD and produces
boxplots with compact letter display showing significance pairwise differences.
Letters are produced by multcompLetters. Plots are
produced by ggplot2. Raw data can also be overlaid in
various ways according to the value of raw."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggtukey</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.5.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ggtukey.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ethanbass/ggtukey/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Create ggplot boxplot with compact letter display</h1>
      <small class="dont-index">Source: <a href="https://github.com/ethanbass/ggtukey/blob/main/R/boxplot_letters.R" class="external-link"><code>R/boxplot_letters.R</code></a></small>
      <div class="d-none name"><code>boxplot_letters.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs pairwise comparisons using <code><a href="https://rdrr.io/r/stats/TukeyHSD.html" class="external-link">TukeyHSD</a></code> and produces
boxplots with compact letter display showing significance pairwise differences.
Letters are produced by <code><a href="https://rdrr.io/pkg/multcompView/man/multcompLetters.html" class="external-link">multcompLetters</a></code>. Plots are
produced by <code><a href="https://ggplot2.tidyverse.org/reference/ggplot2-package.html" class="external-link">ggplot2</a></code>. Raw data can also be overlaid in
various ways according to the value of <code>raw</code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">boxplot_letters</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">y</span>,</span>
<span>  <span class="va">fill</span>,</span>
<span>  <span class="va">group</span>,</span>
<span>  test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tukey"</span>, <span class="st">"kruskalmc"</span>, <span class="st">"dunn"</span><span class="op">)</span>,</span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"two-way"</span>, <span class="st">"one-way"</span><span class="op">)</span>,</span>
<span>  where <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"box"</span>, <span class="st">"whisker"</span>, <span class="st">"mean"</span>, <span class="st">"median"</span>, <span class="st">"se"</span>, <span class="st">"sd"</span>, <span class="st">"cl_normal"</span>, <span class="st">"cl_boot"</span><span class="op">)</span>,</span>
<span>  raw <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"none"</span>, <span class="st">"points"</span>, <span class="st">"dots"</span>, <span class="st">"jitter"</span><span class="op">)</span>,</span>
<span>  pt_col <span class="op">=</span> <span class="st">"slategray"</span>,</span>
<span>  hjust <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.2</span>,</span>
<span>  lab_size <span class="op">=</span> <span class="fl">4</span>,</span>
<span>  na.rm <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  threshold <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  reversed <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A data.frame in "long" format.</p></dd>


<dt id="arg-x">x<a class="anchor" aria-label="anchor" href="#arg-x"></a></dt>
<dd><p>variable to plot on x axis.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>variable to plot on y axis.</p></dd>


<dt id="arg-fill">fill<a class="anchor" aria-label="anchor" href="#arg-fill"></a></dt>
<dd><p>column or color to fill boxplots</p></dd>


<dt id="arg-group">group<a class="anchor" aria-label="anchor" href="#arg-group"></a></dt>
<dd><p>A grouping variable (to allow faceting).</p></dd>


<dt id="arg-test">test<a class="anchor" aria-label="anchor" href="#arg-test"></a></dt>
<dd><p>Which test to run for pairwise comparisons. Either <code>tukey</code>
(the default), <code><a href="https://rdrr.io/pkg/pgirmess/man/kruskalmc.html" class="external-link">kruskalmc</a></code>, or
<code><a href="https://rpkgs.datanovia.com/rstatix/reference/dunn_test.html" class="external-link">dunn_test</a></code>.</p></dd>


<dt id="arg-type">type<a class="anchor" aria-label="anchor" href="#arg-type"></a></dt>
<dd><p>If a grouping variable is provided, determines whether to run
separate tests for each facet (<code>one-way</code>) or a single (<code>two-way</code>)
test (with an interaction term between <code>x</code> and <code>group</code>). Defaults
to <code>two-way</code>. This argument only applies if the Tukey test is selected,
since there is no two-way Kruskal-Wallis test.</p></dd>


<dt id="arg-where">where<a class="anchor" aria-label="anchor" href="#arg-where"></a></dt>
<dd><p>Where to put the letters. Either above the box (<code>box</code>) or
upper whisker (<code>whisker</code>) of a boxplot; at the <code>mean</code> or
<code>median</code>; or at the top of the error bars calculated from the standard
error (<code>se</code>), standard deviation <code>sd</code>, or 95% confidence intervals
returned by <code><a href="https://rdrr.io/pkg/Hmisc/man/smean.sd.html" class="external-link">smean.cl.normal</a></code>, or <code><a href="https://rdrr.io/pkg/Hmisc/man/smean.sd.html" class="external-link">smean.cl.boot</a></code>.</p></dd>


<dt id="arg-raw">raw<a class="anchor" aria-label="anchor" href="#arg-raw"></a></dt>
<dd><p>Whether to plot raw data and (if so), how. The current options are
<code>none</code>, <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></code>, <code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html" class="external-link">geom_dotplot</a></code>, or
<code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">geom_jitter</a></code>.</p></dd>


<dt id="arg-pt-col">pt_col<a class="anchor" aria-label="anchor" href="#arg-pt-col"></a></dt>
<dd><p>Color of points, if raw data is plotted.
<code><a href="https://ggplot2.tidyverse.org/reference/geom_dotplot.html" class="external-link">geom_dotplot</a></code>, or <code><a href="https://ggplot2.tidyverse.org/reference/geom_jitter.html" class="external-link">geom_jitter</a></code>,
according to the value of <code>raw</code>.</p></dd>


<dt id="arg-hjust">hjust<a class="anchor" aria-label="anchor" href="#arg-hjust"></a></dt>
<dd><p>Horizontal adjustment of label. Argument to <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></code>.</p></dd>


<dt id="arg-vjust">vjust<a class="anchor" aria-label="anchor" href="#arg-vjust"></a></dt>
<dd><p>Vertical adjustment of label. Argument to <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></code>.</p></dd>


<dt id="arg-lab-size">lab_size<a class="anchor" aria-label="anchor" href="#arg-lab-size"></a></dt>
<dd><p>Label size. Argument to <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></code>.</p></dd>


<dt id="arg-na-rm">na.rm<a class="anchor" aria-label="anchor" href="#arg-na-rm"></a></dt>
<dd><p>Logical. Whether to remove observations with NAs for the provided
factors (i.e. <code>x</code> and <code>group</code>) before plotting.</p></dd>


<dt id="arg-threshold">threshold<a class="anchor" aria-label="anchor" href="#arg-threshold"></a></dt>
<dd><p>Statistical threshold for significance. Defaults to 0.05.</p></dd>


<dt id="arg-reversed">reversed<a class="anchor" aria-label="anchor" href="#arg-reversed"></a></dt>
<dd><p>Logical. Argument to
<code><a href="https://rdrr.io/pkg/multcompView/man/multcompLetters.html" class="external-link">multcompLetters3</a></code>. Determines whether order of
letters should be reversed. Defaults to <code>FALSE</code>.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional arguments to <code><a href="https://ggplot2.tidyverse.org/reference/geom_point.html" class="external-link">geom_point</a></code>,</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the specified plot as a <code>ggplot</code> object.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>Allows group variable for faceting</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Adapted from a helpful <a href="https://www.mathiasecology.com/code/add-tukeys-significant-letters-to-ggplots" class="external-link">blog post</a>
by <a href="https://github.com/justinmathias" class="external-link">Justin Mathias</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Ethan Bass</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="st">"Category"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Low"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"Medium"</span>, <span class="fl">10</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="st">"High"</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   <span class="st">"Value"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">5.5</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fl">10</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>                   <span class="st">"Size"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Big"</span>,<span class="st">"Small"</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">boxplot_letters</span><span class="op">(</span><span class="va">data</span>, <span class="va">Category</span>, <span class="va">Value</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="boxplot_letters-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span><span class="fu">boxplot_letters</span><span class="op">(</span><span class="va">data</span>, x<span class="op">=</span><span class="va">Category</span>, y<span class="op">=</span><span class="va">Value</span>, group<span class="op">=</span><span class="va">Size</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="boxplot_letters-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ethan Bass.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

